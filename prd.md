# 홈보안 제품 설치 Q&A 지원 웹앱 - PRD (Product Requirements Document)

---

## 1. 프로젝트 개요

### 1.1 배경
SK쉴더스 홈보안 제품(도어가드) 설치 현장에서 기술자들이 다양한 문제 상황에 직면합니다. 현재는 PDF 매뉴얼이나 전화 문의에 의존하고 있어 해결 시간이 길어지고, 재설치율이 높아지는 문제가 있습니다.

### 1.2 프로젝트 목적
현장 설치 관리자가 모바일 기기에서 빠르게 문제를 검색하고 해결책을 찾을 수 있는 웹앱을 개발하여:
- 현장 문제 해결 시간 단축
- 첫 방문 설치 완료율 향상
- 재설치/재방문 감소
- 고객 만족도 향상

### 1.3 타겟 사용자
- **Primary**: 현장 설치 관리자 (기술자)
- **Secondary**: 고객센터 상담원, 신입 기술자 교육용

### 1.4 핵심 가치 제안
> "현장에서 3초 안에 원하는 답을 찾는다"

---

## 2. 목표 및 성공 지표 (KPI)

| 지표 | 현재 | 목표 | 측정 방법 |
|------|------|------|----------|
| 평균 문제 해결 시간 | 10분+ | 3분 이내 | 검색→해결 완료 시간 |
| 첫 방문 설치 완료율 | 75% | 90% | 재방문 필요 건수 |
| 검색 성공률 | - | 95% | 검색 후 클릭 비율 |
| 일일 활성 사용자(DAU) | - | 설치자 80%+ | 로그인 데이터 |

---

## 3. 사용자 스토리

### 3.1 핵심 사용자 스토리

| ID | 역할 | 스토리 | 우선순위 |
|----|------|--------|----------|
| US-01 | 설치자 | 현장에서 특정 증상을 검색하여 즉시 해결책을 찾고 싶다 | P0 |
| US-02 | 설치자 | 카테고리별로 Q&A를 탐색하여 관련 문제들을 한눈에 보고 싶다 | P0 |
| US-03 | 설치자 | 음성으로 검색하여 손이 바쁠 때도 답을 찾고 싶다 | P1 |
| US-04 | 설치자 | 사진을 업로드하여 설치 상태 진단을 받고 싶다 | P2 |
| US-05 | 설치자 | 단계별 가이드를 따라 복잡한 문제를 해결하고 싶다 | P1 |
| US-06 | 관리자 | Q&A 콘텐츠를 추가/수정/삭제하고 싶다 | P1 |
| US-07 | 관리자 | 검색 통계를 보고 자주 발생하는 문제를 파악하고 싶다 | P2 |

### 3.2 사용자 시나리오

**시나리오 1: 키워드 검색**
1. 설치자가 "BLE 연결 안됨" 입력
2. 관련 Q&A 목록 표시 (관련도 순)
3. 클릭하여 상세 답변 확인
4. 필요시 관련 문서 참조

**시나리오 2: 카테고리 탐색**
1. 설치자가 "네트워크 / Wi-Fi / BLE" 카테고리 선택
2. 해당 카테고리의 모든 Q&A 목록 표시
3. 필요한 항목 선택하여 상세 확인

---

## 4. 기능 요구사항

### 4.1 Phase 1 (MVP) - 필수 기능

#### F-01: 텍스트 검색
- **설명**: Q&A 콘텐츠에서 키워드 기반 검색
- **검색 대상**: 질문(Q), 답변(A), 태그
- **정렬**: 관련도 순, 최신순
- **검색 결과**: 질문 제목, 답변 스니펫, 카테고리 표시
- **기술**: Full-text search (Fuse.js 또는 서버사이드 검색)

#### F-02: 카테고리 브라우징
- **카테고리 목록**:
  1. 설치 환경 및 사전 점검
  2. 하드웨어 설치
  3. 네트워크 및 Wi-Fi 연결
  4. 기기 등록 및 초기 설정
  5. 영상 및 카메라 설정
  6. 경비 및 보안 설정
  7. AI 얼굴인식 기능
  8. SOS 비상버튼
  9. 문제 해결 (Troubleshooting)
- **기능**: 카테고리 내 Q&A 목록 표시, 필터링

#### F-03: Q&A 상세 보기
- **표시 항목**: 질문, 답변, 출처(cite), 관련 Q&A
- **기능**: 복사, 공유, 북마크

#### F-04: 반응형 모바일 UI
- **지원 기기**: 모바일 우선 (375px~), 태블릿, 데스크톱
- **터치 최적화**: 큰 터치 타겟, 스와이프 제스처

### 4.2 Phase 2 - 확장 기능

#### F-05: 음성 검색
- **기술**: Web Speech API
- **플로우**: 녹음 → STT 변환 → 텍스트 편집 → 검색

#### F-06: 북마크/즐겨찾기
- **기능**: 자주 참조하는 Q&A 저장
- **저장**: LocalStorage 또는 사용자 계정

#### F-07: 최근 검색 기록
- **기능**: 최근 10개 검색어 저장 및 빠른 접근

#### F-08: Guided Troubleshooting
- **설명**: 단계별 문제 해결 가이드
- **UI**: Yes/No 분기 형식의 의사결정 트리

### 4.3 Phase 3 - 고급 기능

#### F-09: 사진 업로드 분석 (AI)
- **기술**: Vision AI API 연동
- **기능**: 설치 사진 분석, 문제 진단 제안

#### F-10: Admin Dashboard
- **콘텐츠 관리**: Q&A CRUD
- **통계**: 검색어 분석, 인기 Q&A, 해결률

---

## 5. 데이터 모델

### 5.1 Q&A 데이터 구조

```typescript
interface QAItem {
  id: string;                    // 고유 ID (예: "q-001")
  number: number;                // Q&A 번호 (1-100)
  category: Category;            // 카테고리
  question: string;              // 질문
  answer: string;                // 답변
  citations: Citation[];         // 출처 정보
  tags: string[];                // 검색용 태그
  relatedIds: string[];          // 관련 Q&A ID
  createdAt: Date;
  updatedAt: Date;
}

interface Category {
  id: string;
  name: string;
  icon: string;                  // 이모지 또는 아이콘명
  description: string;
  order: number;                 // 정렬 순서
  qaRange: [number, number];     // Q&A 번호 범위 (예: [1, 15])
}

interface Citation {
  id: number;                    // cite 번호
  source?: string;               // 출처 문서명
}

interface SearchHistory {
  query: string;
  timestamp: Date;
  resultCount: number;
}

interface Bookmark {
  qaId: string;
  createdAt: Date;
}
```

### 5.2 카테고리 정의

```typescript
const CATEGORIES: Category[] = [
  { id: "installation-env", name: "설치 환경 및 사전 점검", icon: "🔍", qaRange: [1, 15], order: 1 },
  { id: "hardware", name: "하드웨어 설치", icon: "🔧", qaRange: [16, 30], order: 2 },
  { id: "network", name: "네트워크 및 Wi-Fi 연결", icon: "📶", qaRange: [31, 45], order: 3 },
  { id: "device-setup", name: "기기 등록 및 초기 설정", icon: "⚙️", qaRange: [46, 55], order: 4 },
  { id: "video-camera", name: "영상 및 카메라 설정", icon: "📹", qaRange: [56, 68], order: 5 },
  { id: "security", name: "경비 및 보안 설정", icon: "🔐", qaRange: [69, 78], order: 6 },
  { id: "ai-face", name: "AI 얼굴인식 기능", icon: "🤖", qaRange: [79, 88], order: 7 },
  { id: "sos", name: "SOS 비상버튼", icon: "🆘", qaRange: [89, 93], order: 8 },
  { id: "troubleshooting", name: "문제 해결", icon: "🛠️", qaRange: [94, 100], order: 9 },
];
```

---

## 6. 기술 스택

### 6.1 Frontend

| 기술 | 선택 | 이유 |
|------|------|------|
| **Framework** | Next.js 14 (App Router) | SSR/SSG, 빠른 초기 로딩, SEO |
| **Language** | TypeScript | 타입 안정성, 개발 생산성 |
| **UI Library** | shadcn/ui + Tailwind CSS | 커스터마이징 용이, 모던 디자인 |
| **State** | Zustand 또는 React Context | 가벼운 상태 관리 |
| **검색** | Fuse.js | 클라이언트 사이드 fuzzy search |
| **Icons** | Lucide React | 일관된 아이콘 세트 |

### 6.2 Backend (Optional - Phase 2+)

| 기술 | 선택 | 이유 |
|------|------|------|
| **API** | Next.js API Routes | 풀스택 단일 배포 |
| **Database** | Supabase / PostgreSQL | 실시간, 인증, 스토리지 통합 |
| **Search** | PostgreSQL Full-text / Algolia | 서버사이드 검색 (대용량 시) |

### 6.3 인프라

| 기술 | 선택 | 이유 |
|------|------|------|
| **Hosting** | Vercel | Next.js 최적화, 자동 배포 |
| **CDN** | Vercel Edge | 글로벌 빠른 응답 |
| **Analytics** | Vercel Analytics / GA4 | 사용자 행동 분석 |

---

## 7. API 설계

### 7.1 REST API Endpoints (Phase 2+)

```
GET    /api/qa                  # 전체 Q&A 목록
GET    /api/qa/:id              # 특정 Q&A 상세
GET    /api/qa/search?q=키워드   # 검색
GET    /api/categories          # 카테고리 목록
GET    /api/categories/:id/qa   # 카테고리별 Q&A
POST   /api/analytics/search    # 검색 로그 기록
GET    /api/analytics/popular   # 인기 검색어/Q&A
```

### 7.2 Phase 1 (정적 데이터)

MVP에서는 API 없이 JSON 파일로 데이터를 관리합니다:

```
/data
  ├── qa.json           # 전체 Q&A 데이터
  ├── categories.json   # 카테고리 정의
  └── troubleshooting-flows.json  # Guided 플로우 (Phase 2)
```

---

## 8. 검색 기능 구현

### 8.1 검색 전략

1. **Fuse.js (클라이언트 사이드 Fuzzy Search)**
   - 100개 Q&A 수준에서 충분히 빠름
   - 오타 허용, 유사어 매칭
   - 검색 가중치 설정 (질문 > 답변 > 태그)

2. **검색 인덱스 구성**
```typescript
const fuseOptions = {
  keys: [
    { name: 'question', weight: 0.5 },
    { name: 'answer', weight: 0.3 },
    { name: 'tags', weight: 0.2 }
  ],
  threshold: 0.4,        // 유사도 임계값
  includeScore: true,
  includeMatches: true,  // 하이라이트용
};
```

### 8.2 검색 UX 개선

- **디바운스**: 300ms 입력 대기 후 검색
- **하이라이트**: 검색어 매칭 부분 강조
- **자동완성**: 검색어 입력 시 추천 (Phase 2)
- **최근 검색**: LocalStorage에 저장

---

## 9. 비기능적 요구사항

### 9.1 성능

| 항목 | 목표 |
|------|------|
| 초기 로딩 (LCP) | < 2.5초 |
| 검색 응답 시간 | < 100ms |
| 번들 사이즈 | < 200KB (gzipped) |
| Lighthouse Score | 90+ (Mobile) |

### 9.2 접근성

- WCAG 2.1 AA 준수
- 키보드 네비게이션 지원
- 스크린 리더 호환
- 고대비 모드 지원

### 9.3 브라우저 지원

- Chrome 90+ (주 사용)
- Safari 14+ (iOS)
- Samsung Internet (Android)

### 9.4 오프라인 지원 (Phase 2)

- Service Worker로 캐싱
- 오프라인 시 캐시된 데이터 표시

---

## 10. 프로젝트 구조

```
q_a/
├── app/                          # Next.js App Router
│   ├── layout.tsx                # 루트 레이아웃
│   ├── page.tsx                  # 홈 (검색 + 카테고리)
│   ├── search/
│   │   └── page.tsx              # 검색 결과 페이지
│   ├── category/
│   │   └── [id]/
│   │       └── page.tsx          # 카테고리별 Q&A 목록
│   ├── qa/
│   │   └── [id]/
│   │       └── page.tsx          # Q&A 상세
│   └── api/                      # API Routes (Phase 2)
│
├── components/
│   ├── ui/                       # shadcn/ui 컴포넌트
│   ├── layout/
│   │   ├── Header.tsx
│   │   ├── BottomNav.tsx         # 모바일 하단 네비게이션
│   │   └── SearchBar.tsx
│   ├── qa/
│   │   ├── QACard.tsx            # Q&A 카드 컴포넌트
│   │   ├── QADetail.tsx          # Q&A 상세 뷰
│   │   └── QAList.tsx            # Q&A 목록
│   ├── category/
│   │   ├── CategoryCard.tsx
│   │   └── CategoryList.tsx
│   └── search/
│       ├── SearchResults.tsx
│       ├── SearchHighlight.tsx
│       └── VoiceSearch.tsx       # Phase 2
│
├── lib/
│   ├── search.ts                 # Fuse.js 검색 로직
│   ├── data.ts                   # 데이터 로딩/파싱
│   └── utils.ts                  # 유틸리티 함수
│
├── data/
│   ├── qa.json                   # Q&A 데이터
│   └── categories.json           # 카테고리 데이터
│
├── hooks/
│   ├── useSearch.ts              # 검색 훅
│   ├── useBookmarks.ts           # 북마크 훅
│   └── useSearchHistory.ts       # 검색 기록 훅
│
├── types/
│   └── index.ts                  # TypeScript 타입 정의
│
├── styles/
│   └── globals.css               # 글로벌 스타일
│
├── public/
│   └── icons/                    # 앱 아이콘
│
├── package.json
├── tailwind.config.js
├── tsconfig.json
└── README.md
```

---

## 11. UI 와이어프레임

### 11.1 메인 화면 (홈)

```
┌──────────────────────────────────┐
│  [SK shieldus Home Security]     │
│  Installer Support Portal        │
├──────────────────────────────────┤
│                                  │
│  🔍 Search Issues                │
│  ┌────────────────────────────┐  │
│  │  예: 공동현관 열림 오류…   │  │
│  └────────────────────────────┘  │
│       🎤                         │  ← 마이크 버튼 (Phase 2)
│                                  │
│  또는 아래 카테고리로 탐색       │
│                                  │
│  📂 Quick Categories             │
│  ┌────────────────────────────┐  │
│  │ 🔍 설치 환경 및 사전 점검  › │
│  ├────────────────────────────┤  │
│  │ 🔧 하드웨어 설치           › │
│  ├────────────────────────────┤  │
│  │ 📶 네트워크 / Wi-Fi / BLE  › │
│  ├────────────────────────────┤  │
│  │ ⚙️ 기기 등록 및 초기 설정  › │
│  ├────────────────────────────┤  │
│  │ 📹 영상 및 카메라 설정     › │
│  ├────────────────────────────┤  │
│  │ 🔐 경비 및 보안 설정       › │
│  ├────────────────────────────┤  │
│  │ 🤖 AI 얼굴인식 기능        › │
│  ├────────────────────────────┤  │
│  │ 🆘 SOS 비상버튼            › │
│  ├────────────────────────────┤  │
│  │ 🛠️ 문제 해결               › │
│  └────────────────────────────┘  │
│                                  │
└──────────────────────────────────┘
```

### 11.2 검색 결과 화면

```
┌──────────────────────────────────┐
│  ← 검색 결과                     │
├──────────────────────────────────┤
│                                  │
│  🔎 "Wi-Fi 연결 안됨"            │
│     12개 결과                    │
│                                  │
│  ┌────────────────────────────┐  │
│  │ Q31. 5GHz Wi-Fi도 연결     │  │
│  │     가능한가요?            │  │
│  │ 📶 네트워크 및 Wi-Fi 연결   │  │
│  │ "아니요, 2.4GHz 대역의..."  │  │
│  └────────────────────────────┘  │
│                                  │
│  ┌────────────────────────────┐  │
│  │ Q33. 밴드 스티어링 공유기는│  │
│  │     어떻게 해야 하나요?    │  │
│  │ 📶 네트워크 및 Wi-Fi 연결   │  │
│  │ "2.4GHz 전용 SSID를..."    │  │
│  └────────────────────────────┘  │
│                                  │
│  ┌────────────────────────────┐  │
│  │ Q13. Wi-Fi 신호 세기       │  │
│  │     정상 기준은?           │  │
│  │ 🔍 설치 환경 및 사전 점검   │  │
│  │ "-65dBm 이상이어야..."     │  │
│  └────────────────────────────┘  │
│                                  │
└──────────────────────────────────┘
```

### 11.3 Q&A 상세 화면

```
┌──────────────────────────────────┐
│  ← Q&A 상세                  🔖  │
├──────────────────────────────────┤
│                                  │
│  📶 네트워크 및 Wi-Fi 연결       │
│                                  │
│  ┌────────────────────────────┐  │
│  │ Q: 5GHz Wi-Fi도 연결       │  │
│  │    가능한가요?             │  │
│  └────────────────────────────┘  │
│                                  │
│  ┌────────────────────────────┐  │
│  │ A: 아니요, 2.4GHz 대역의   │  │
│  │    Wi-Fi만 지원합니다.     │  │
│  │                            │  │
│  │    📄 출처: [cite: 2338]   │  │
│  └────────────────────────────┘  │
│                                  │
│  ──────────────────────────────  │
│  📌 관련 Q&A                     │
│  ┌────────────────────────────┐  │
│  │ Q32. Wi-Fi SSID 한글로?  › │  │
│  │ Q33. 밴드 스티어링 설정? › │  │
│  └────────────────────────────┘  │
│                                  │
│  ┌─────────┐  ┌─────────┐       │
│  │  📋 복사 │  │  📤 공유 │       │
│  └─────────┘  └─────────┘       │
│                                  │
└──────────────────────────────────┘
```

### 11.4 카테고리 상세 화면

```
┌──────────────────────────────────┐
│  ← 📶 네트워크 및 Wi-Fi 연결    │
├──────────────────────────────────┤
│                                  │
│  15개 Q&A                        │
│                                  │
│  ┌────────────────────────────┐  │
│  │ 31. 5GHz Wi-Fi도 연결     ›│  │
│  │     가능한가요?            │  │
│  ├────────────────────────────┤  │
│  │ 32. Wi-Fi 이름(SSID)을    ›│  │
│  │     한글로 해도 되나요?    │  │
│  ├────────────────────────────┤  │
│  │ 33. 밴드 스티어링 공유기는›│  │
│  │     어떻게 해야 하나요?    │  │
│  ├────────────────────────────┤  │
│  │ 34. AP 모드는 어떻게      ›│  │
│  │     진입하나요?            │  │
│  ├────────────────────────────┤  │
│  │ ...                        │  │
│  └────────────────────────────┘  │
│                                  │
└──────────────────────────────────┘
```

### 11.5 음성 검색 UI (Phase 2)

```
┌──────────────────────────────────┐
│  🎤 음성 검색                    │
├──────────────────────────────────┤
│                                  │
│  • "문이 안 잠기고 빨간불이..."  │
│                                  │
│  🔴  녹음 중…                    │
│                                  │
│         ▁▃▅▇▅▃▁                  │
│      (사운드 레벨 애니메이션)    │
│                                  │
│  ┌─────────┐  ┌─────────┐       │
│  │  ✕ 취소  │  │  ✓ 완료  │       │
│  └─────────┘  └─────────┘       │
│                                  │
└──────────────────────────────────┘

녹음 완료 후:

┌──────────────────────────────────┐
│  🎤 음성 인식 결과               │
├──────────────────────────────────┤
│                                  │
│  인식된 텍스트                   │
│  ┌────────────────────────────┐  │
│  │  "공동현관이 앱에서는      │  │
│  │   열림으로 나오는데        │  │
│  │   문이 실제로 안 열림"     │  │
│  └────────────────────────────┘  │
│  (편집 가능)                     │
│                                  │
│  ┌────────────────────────────┐  │
│  │      🔍 검색하기           │  │
│  └────────────────────────────┘  │
│  ┌────────────────────────────┐  │
│  │      🎤 다시 녹음하기       │  │
│  └────────────────────────────┘  │
│                                  │
└──────────────────────────────────┘
```

---

## 12. 개발 로드맵

### Phase 1: MVP (2주)

**Week 1**
- [ ] 프로젝트 셋업 (Next.js, Tailwind, shadcn/ui)
- [ ] qa.md → qa.json 데이터 변환
- [ ] 기본 레이아웃 및 라우팅
- [ ] 홈 화면 (검색바 + 카테고리 목록)
- [ ] 카테고리 상세 페이지

**Week 2**
- [ ] Q&A 상세 페이지
- [ ] Fuse.js 검색 구현
- [ ] 검색 결과 페이지
- [ ] 반응형 모바일 최적화
- [ ] Vercel 배포

### Phase 2: 확장 기능 (2주)

**Week 3**
- [ ] 음성 검색 (Web Speech API)
- [ ] 북마크 기능
- [ ] 검색 기록
- [ ] PWA 설정 (오프라인 지원)

**Week 4**
- [ ] Guided Troubleshooting 기본 구현
- [ ] 검색 자동완성
- [ ] 성능 최적화
- [ ] 사용자 피드백 수집

### Phase 3: 고급 기능 (4주+)

- [ ] Admin Dashboard
- [ ] 콘텐츠 관리 시스템 (CMS)
- [ ] 검색 통계/분석
- [ ] 사진 업로드 분석 (Vision AI)
- [ ] 사용자 인증/권한 관리

---

## 13. 디자인 가이드라인

### 13.1 컬러 팔레트

```css
:root {
  /* Primary - SK쉴더스 브랜드 컬러 */
  --primary: #E31937;           /* SK Red */
  --primary-dark: #B8142D;
  
  /* Secondary */
  --secondary: #1A1A1A;         /* Dark Gray */
  --secondary-light: #4A4A4A;
  
  /* Accent */
  --accent: #0066CC;            /* Blue - 링크, 액션 */
  
  /* Semantic */
  --success: #00A86B;
  --warning: #FFB800;
  --error: #E31937;
  
  /* Neutral */
  --background: #F5F5F5;
  --surface: #FFFFFF;
  --border: #E0E0E0;
  --text-primary: #1A1A1A;
  --text-secondary: #666666;
}
```

### 13.2 타이포그래피

```css
/* Font Family */
--font-primary: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;

/* Font Sizes */
--text-xs: 0.75rem;    /* 12px */
--text-sm: 0.875rem;   /* 14px */
--text-base: 1rem;     /* 16px */
--text-lg: 1.125rem;   /* 18px */
--text-xl: 1.25rem;    /* 20px */
--text-2xl: 1.5rem;    /* 24px */
```

### 13.3 간격 시스템

```css
--spacing-1: 0.25rem;  /* 4px */
--spacing-2: 0.5rem;   /* 8px */
--spacing-3: 0.75rem;  /* 12px */
--spacing-4: 1rem;     /* 16px */
--spacing-6: 1.5rem;   /* 24px */
--spacing-8: 2rem;     /* 32px */
```

---

## 14. 리스크 및 완화 방안

| 리스크 | 영향 | 확률 | 완화 방안 |
|--------|------|------|----------|
| 검색 정확도 낮음 | 높음 | 중 | Fuse.js 파라미터 튜닝, 동의어 사전 추가 |
| 모바일 성능 이슈 | 높음 | 낮 | 코드 스플리팅, 이미지 최적화, 캐싱 |
| 오프라인 사용 불가 | 중 | 높 | PWA + Service Worker 구현 |
| 콘텐츠 업데이트 어려움 | 중 | 중 | Phase 2에서 Admin CMS 구현 |

---

## 15. 향후 고려사항

1. **다국어 지원**: 해외 설치 기사 대응
2. **AI 챗봇**: 자연어 대화형 문제 해결
3. **AR 가이드**: 카메라로 설치 가이드 오버레이
4. **IoT 연동**: 실시간 기기 상태 확인
5. **커뮤니티**: 기술자 간 경험 공유 게시판

---

*문서 버전: 1.0*  
*최종 수정: 2024-01-XX*  
*작성자: [담당자]*
